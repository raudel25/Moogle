@page "/{id}/{page:int}/{pos:int}"

<PageTitle>Moogle!</PageTitle>

<h1>🔍 Moogle!</h1>

<br>

<ul>
    <h3>@id</h3>
</ul>

<br>

<ul>
    <p align="justify">
        @foreach (var (item, index) in Server.Read(id!, page).Select((value, i) => (value, i)))
        {
            @if (index + page == pos)
            {
                <strong>@(item+" ")</strong>
            }
            else
            {
                @(item+" ")
            }
            @if(item=="")
            {
                <br><br>
            }
        }
    </p>
</ul>

<ul>
    <a target='__blank' href=@(id+"/"+(page-100)+"/"+pos)><button type="default" class="btn btn-primary"
        style="margin-right:30px; border-radius:50px;">Anterior</button></a>

    <input type="number" class="p-1 my-4" @bind="newpage" @bind:event="oninput" 
        style="width: 100px; text-align:center; border-radius:50px" margin-left="100px">

    <a target='__blank' href=@(id+"/"+(newpage*100)+"/"+pos)><button type="default" class="btn btn-primary" 
        style="border-radius:50px;">Ir</button></a>

    <a target='__blank' href=@(id+"/"+(page+100)+"/"+pos)><button type="default" class="btn btn-primary"
        style="margin-left:30px; border-radius:50px;">Próximo</button></a>
</ul>

<ul>
    <a target='__blank' href=@(id+"/"+(pos-pos%100)+"/"+pos)><button type="default" class="btn btn-primary"
        style="border-radius:50px;">Resultado</button></a> 
</ul>

@code {
    [Parameter]
    public string? id { get; set; }
    [Parameter]
    public int pos { get; set; }
    [Parameter]
    public int page { get; set; }
    private int newpage { get; set; }
}
